(function(t){function e(e){for(var r,a,n=e[0],l=e[1],c=e[2],h=0,v=[];h<n.length;h++)a=n[h],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&v.push(i[a][0]),i[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(v.length)v.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],r=!0,n=1;n<s.length;n++){var l=s[n];0!==i[l]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=s[0]))}return t}var r={},i={index:0},o=[];function a(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=r,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(s,r,function(e){return t[e]}.bind(null,r));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/filter-color-generator/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var u=l;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"20cb":function(t,e,s){"use strict";var r=s("edd3"),i=s.n(r);i.a},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm"},[s("h1",{staticClass:"display-4 text-center"},[t._v(" Filter Color Generator ")]),s("div",{staticClass:"header"},[s("Chrome",{attrs:{"disable-alpha":""},on:{input:t.updateFilter},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}}),s("div",{staticClass:"loss"},[t._v(" Filter color may differ from HEX. ")])],1),s("div",{staticClass:"results"},[s("div",{staticClass:"row align-items-center"},[s("div",{staticClass:"col-xs-12 col-sm-4"},[s("div",{staticClass:"block"},[s("div",{staticClass:"square",style:{backgroundColor:t.color.hex}})]),s("div",{staticClass:"colored"},[t._v(" Colored with background color. ")])]),s("div",{staticClass:"col-xs-12 col-sm-4"},[s("div",{staticClass:"block"},[s("div",{staticClass:"square",style:t.result&&t.result.filter})]),s("div",{staticClass:"colored"},[t._v(" Colored with filter. ")])]),s("div",{staticClass:"col-xs-12 col-sm-4"},[s("div",{staticClass:"block"},[s("input",{attrs:{type:"file",accept:".jpg .jpeg, .png"},on:{change:t.uploadFile}}),t.image?s("img",{style:t.result&&t.result.filter,attrs:{src:t.image,alt:"Demo image"}}):t._e(),t.image?s("div",{staticClass:"colored"},[t._v(" Demo image with filter. ")]):t._e()])])])]),s("pre",{staticClass:"code-example"},[t._v("."),s("span",{staticClass:"name"},[t._v("block")]),t._v(" "),s("span",{staticClass:"brack"},[t._v("{")]),t._v("\n  "),t.filter?s("span",{domProps:{innerHTML:t._s(t.filter)}}):t._e(),t.filter?t._e():s("span",{staticClass:"grey"},[t._v("// Choose a color")]),t._v("\n"),s("span",{staticClass:"brack"},[t._v("}")])])])])])},o=[],a=(s("4de4"),s("d3b7"),s("ac1f"),s("3ca3"),s("5319"),s("ddb0"),s("2b3d"),s("c345")),n=s("d4ec"),l=s("bee2"),c=function(){function t(e,s,r){Object(n["a"])(this,t),this.set(e,s,r)}return Object(l["a"])(t,[{key:"set",value:function(t,e,s){this.r=this.clamp(t),this.g=this.clamp(e),this.b=this.clamp(s)}},{key:"hueRotate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t=t/180*Math.PI;var e=Math.sin(t),s=Math.cos(t);this.multiply([.213+.787*s-.213*e,.715-.715*s-.715*e,.072-.072*s+.928*e,.213-.213*s+.143*e,.715+.285*s+.14*e,.072-.072*s-.283*e,.213-.213*s-.787*e,.715-.715*s+.715*e,.072+.928*s+.072*e])}},{key:"grayscale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.multiply([.2126+.7874*(1-t),.7152-.7152*(1-t),.0722-.0722*(1-t),.2126-.2126*(1-t),.7152+.2848*(1-t),.0722-.0722*(1-t),.2126-.2126*(1-t),.7152-.7152*(1-t),.0722+.9278*(1-t)])}},{key:"sepia",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.multiply([.393+.607*(1-t),.769-.769*(1-t),.189-.189*(1-t),.349-.349*(1-t),.686+.314*(1-t),.168-.168*(1-t),.272-.272*(1-t),.534-.534*(1-t),.131+.869*(1-t)])}},{key:"saturate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.multiply([.213+.787*t,.715-.715*t,.072-.072*t,.213-.213*t,.715+.285*t,.072-.072*t,.213-.213*t,.715-.715*t,.072+.928*t])}},{key:"multiply",value:function(t){var e=this.clamp(this.r*t[0]+this.g*t[1]+this.b*t[2]),s=this.clamp(this.r*t[3]+this.g*t[4]+this.b*t[5]),r=this.clamp(this.r*t[6]+this.g*t[7]+this.b*t[8]);this.r=e,this.g=s,this.b=r}},{key:"brightness",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.linear(t)}},{key:"contrast",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.linear(t,-.5*t+.5)}},{key:"linear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.r=this.clamp(this.r*t+255*e),this.g=this.clamp(this.g*t+255*e),this.b=this.clamp(this.b*t+255*e)}},{key:"invert",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.r=this.clamp(255*(t+this.r/255*(1-2*t))),this.g=this.clamp(255*(t+this.g/255*(1-2*t))),this.b=this.clamp(255*(t+this.b/255*(1-2*t)))}},{key:"hsl",value:function(){var t,e,s=this.r/255,r=this.g/255,i=this.b/255,o=Math.max(s,r,i),a=Math.min(s,r,i),n=(o+a)/2;if(o===a)t=e=0;else{var l=o-a;switch(e=n>.5?l/(2-o-a):l/(o+a),o){case s:t=(r-i)/l+(r<i?6:0);break;case r:t=(i-s)/l+2;break;case i:t=(s-r)/l+4;break}t/=6}return{h:100*t,s:100*e,l:100*n}}},{key:"clamp",value:function(t){return t>255?t=255:t<0&&(t=0),t}}]),t}(),u=(s("99af"),s("fb6a"),function(){function t(e){Object(n["a"])(this,t),this.target=e,this.targetHSL=e.hsl(),this.reusedColor=new c(0,0,0)}return Object(l["a"])(t,[{key:"solve",value:function(){var t=this.solveNarrow(this.solveWide());return{values:t.values,loss:t.loss,filter:this.css(t.values)}}},{key:"solveWide",value:function(){for(var t=5,e=15,s=[60,180,18e3,600,1.2,1.2],r={loss:1/0},i=0;r.loss>25&&i<3;i++){var o=[50,20,3750,50,100,100],a=this.spsa(t,s,e,o,1e3);a.loss<r.loss&&(r=a)}return r}},{key:"solveNarrow",value:function(t){var e=t.loss,s=2,r=e+1,i=[.25*r,.25*r,r,.25*r,.2*r,.2*r];return this.spsa(e,i,s,t.values,500)}},{key:"spsa",value:function(t,e,s,r,i){for(var o=1,a=.16666666666666666,n=null,l=1/0,c=new Array(6),u=new Array(6),h=new Array(6),v=0;v<i;v++){for(var f=s/Math.pow(v+1,a),d=0;d<6;d++)c[d]=Math.random()>.5?1:-1,u[d]=r[d]+f*c[d],h[d]=r[d]-f*c[d];for(var p=this.loss(u)-this.loss(h),g=0;g<6;g++){var b=p/(2*f)*c[g],m=e[g]/Math.pow(t+v+1,o);r[g]=w(r[g]-m*b,g)}var y=this.loss(r);y<l&&(n=r.slice(0),l=y)}return{values:n,loss:l};function w(t,e){var s=100;return 2===e?s=7500:4!==e&&5!==e||(s=200),3===e?t>s?t%=s:t<0&&(t=s+t%s):t<0?t=0:t>s&&(t=s),t}}},{key:"loss",value:function(t){var e=this.reusedColor;e.set(0,0,0),e.invert(t[0]/100),e.sepia(t[1]/100),e.saturate(t[2]/100),e.hueRotate(3.6*t[3]),e.brightness(t[4]/100),e.contrast(t[5]/100);var s=e.hsl();return Math.abs(e.r-this.target.r)+Math.abs(e.g-this.target.g)+Math.abs(e.b-this.target.b)+Math.abs(s.h-this.targetHSL.h)+Math.abs(s.s-this.targetHSL.s)+Math.abs(s.l-this.targetHSL.l)}},{key:"css",value:function(t){function e(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.round(t[e]*s)}return"filter: invert(".concat(e(0),"%) sepia(").concat(e(1),"%) saturate(").concat(e(2),"%) hue-rotate(").concat(e(3,3.6),"deg) brightness(").concat(e(4),"%) contrast(").concat(e(5),"%);")}}]),t}()),h={name:"FilterColorGenerator",components:{Chrome:a["Chrome"]},data:function(){return{color:{},result:{},image:""}},computed:{filter:function(){return this.result.filter?this.result.filter.replace("filter",'<span class="prop">filter</span>'):""},loss:function(){return void 0===this.result.loss?"Choose a color.":this.result.loss<1?"Beautiful match!":this.result.loss<5?"Pretty close.":this.result.loss<15?"The color is deviated. Try again.":"The color is differ a lot. Try again!"}},watch:{color:function(t){window.localStorage.setItem("selectedColor",JSON.stringify(t))},loss:function(t){console.log(t)}},created:function(){var t=window.localStorage.getItem("selectedColor");t&&(this.color=JSON.parse(t),this.updateFilter())},methods:{updateFilter:function(){var t=new c(this.color.rgba.r,this.color.rgba.g,this.color.rgba.b),e=new u(t);this.result=e.solve()},uploadFile:function(t){var e=t.target.files;e[0]&&(this.image=URL.createObjectURL(e[0]))}}},v=h,f=(s("20cb"),s("2877")),d=Object(f["a"])(v,i,o,!1,null,null,null),p=d.exports,g=s("9483");Object(g["a"])("".concat("/filter-color-generator/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(p)}}).$mount("#app")},edd3:function(t,e,s){}});
//# sourceMappingURL=index.6e61e0bb.js.map