"use strict";var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
/*!
 * NotifyzZ v1.0.0: Plugin for notifications
 *
 * Contribute: https://github.com/BrooonS/NotifyzZ
 * Released under the MIT license: http://opensource.org/licenses/MIT
 */var NotifyzZ=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.isNotifyRemoved=!1,this.settings=_extends({title:"",content:"",duration:5e3,extraClass:"",isCloseOnClick:!0,isCloseOnSwipe:!0,position:"",onCreate:function(){},onOpen:function(){},onClose:function(){},onDestroy:function(){},onContainerDestroy:function(){}},e),this.setNotify()}return _createClass(t,[{key:"setNotify",value:function(){var t=this.settings,e=t.title,n=t.content,i=null!==document.querySelector(".notifyzz-container");if(""===e&&""===n)throw new Error("Title or content in notify not found.");i||this.createContainer(),this.createNotify()}},{key:"createNotify",value:function(){var t=this.settings,e=t.title,n=t.content,i=t.extraClass,o=t.onCreate,s=document.querySelector(".notifyzz-container"),a=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div");a.classList.add("notifyzz"),""!==i&&a.classList.add(i),""!==e&&(r.classList.add("notifyzz__title"),r.innerHTML=e,a.appendChild(r)),""!==n&&(c.classList.add("notifyzz__content"),c.innerHTML=n,a.appendChild(c)),"function"==typeof o&&o(),this.notify=a,s.appendChild(a),this.setFunctions()}},{key:"setFunctions",value:function(){var t=this,e=this.notify,n=this.settings,i=n.duration,o=n.isCloseOnClick,s=n.isCloseOnSwipe,a=n.onOpen;e.addEventListener("animationend",function t(n){"openAnimation"===n.animationName&&(e.classList.remove("notifyzz--open-animation"),e.classList.add("notifyzz--open"),"function"==typeof a&&a(),e.removeEventListener("animationend",t))},!1),o&&e.addEventListener("click",function(){t.removeNotify()}),s&&this.touchEvents(),e.classList.add("notifyzz--open-animation"),0!==i&&this.setTimeout()}},{key:"setTimeout",value:function(){var t=this,e=this.notify,n=this.settings,i=n.duration,o=n.onClose,s=new this.Timer(function(){"function"==typeof o&&o(),t.removeNotify()},i),a=function(){return s.pause()},r=function(){return s.resume()};e.addEventListener("touchstart",a),e.addEventListener("mousedown",a),e.addEventListener("touchend",r),e.addEventListener("mouseout",r)}},{key:"touchEvents",value:function(){var t=this,e=this.notify,n=null,i=!1;e.addEventListener("touchstart",function(t){n=t.targetTouches[0].clientX}),e.addEventListener("touchmove",function(t){var o=n-t.targetTouches[0].clientX;i=Math.abs(o)>e.offsetWidth/2,e.style.right=o+"px",e.style.transition="none",e.style.opacity=(1-Math.abs(-1*o/(.8*e.offsetWidth))).toFixed(2)}),e.addEventListener("touchend",function(n){e.style.transition=null,i?t.removeNotify():(e.style.opacity=null,e.style.right=0)})}},{key:"removeNotify",value:function(){var t=this,e=this.notify,n=this.settings.onDestroy,i=document.querySelector(".notifyzz-container");this.isNotifyRemoved||(e.style.bottom=e.offsetHeight+"px",e.style["margin-top"]="-"+e.offsetHeight+"px",e.classList.remove("notifyzz--open"),e.classList.add("notifyzz--close-animation"),e.addEventListener("animationend",function(){"function"==typeof n&&n(),e.remove(),null===i.querySelector(".notifyzz")&&t.removeContainer()},!1),this.isNotifyRemoved=!0)}},{key:"createContainer",value:function(){var t=this.settings.position,e=document.createElement("div"),n=t.split(" ");e.classList.add("notifyzz-container"),n.forEach(function(t){e.classList.add("notifyzz-container--"+t)}),document.body.appendChild(e)}},{key:"removeContainer",value:function(){var t=this.settings.onContainerDestroy;document.querySelector(".notifyzz-container").remove(),"function"==typeof t&&t()}},{key:"Timer",value:function(t,e){var n=e,i=null,o="";this.pause=function(){window.clearTimeout(i),n-=new Date-o},this.resume=function(){o=new Date,window.clearTimeout(i),i=window.setTimeout(t,n)},this.resume()}}]),t}();